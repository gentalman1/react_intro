{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar themeStoreShape_1 = require(\"./themeStoreShape\");\n\nfunction withStyles(createStyles) {\n  return function createComponent(BaseComponent) {\n    var WrappedComponent = function (_super) {\n      __extends(WrappedComponent, _super);\n\n      function WrappedComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n      }\n\n      WrappedComponent.prototype.render = function () {\n        return React.createElement(BaseComponent, __assign({}, this.props, {\n          styles: this.state.styles\n        }));\n      };\n\n      WrappedComponent.prototype.componentWillMount = function () {\n        var _this = this;\n\n        var theme = this.context.theme;\n        this.updateStyles(this.props);\n\n        if (typeof createStyles === 'function') {\n          this.unsubscribe = theme.subscribe(function () {\n            _this.updateStyles(_this.props);\n          });\n        }\n      };\n\n      WrappedComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (typeof withStyles === 'function') {\n          this.updateStyles(nextProps);\n        }\n      };\n\n      WrappedComponent.prototype.componentWillUnmount = function () {\n        if (this.unsubscribe) this.unsubscribe();\n      };\n\n      WrappedComponent.prototype.updateStyles = function (props) {\n        var theme = this.context.theme;\n        this.setState({\n          styles: typeof createStyles === 'function' ? createStyles(theme.getState(), props) : createStyles\n        });\n      };\n\n      return WrappedComponent;\n    }(React.PureComponent);\n\n    WrappedComponent.displayName = \"withStyles(\" + (BaseComponent.displayName || 'Component') + \")\";\n    WrappedComponent.contextTypes = {\n      theme: themeStoreShape_1.default.isRequired\n    };\n    return WrappedComponent;\n  };\n}\n\nexports.default = withStyles;","map":{"version":3,"sources":["../src/withStyles.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAKA,IAAA,iBAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AAMA,SAAA,UAAA,CACE,YADF,EACyD;AAEvD,SAAO,SAAA,eAAA,CACL,aADK,EAC2F;AAEhG,QAAA,gBAAA,GAAA,UAAA,MAAA,EAAA;AAA+B,MAAA,SAAA,CAAA,gBAAA,EAAA,MAAA,CAAA;;AAA/B,eAAA,gBAAA,GAAA;;AA6CC;;AAnCQ,MAAA,gBAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACE,eAAO,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc,QAAA,CAAA,EAAA,EAAK,KAAK,KAAV,EAAe;AAAE,UAAA,MAAM,EAAE,KAAK,KAAL,CAAW;AAArB,SAAf,CAAd,CAAP;AACD,OAFM;;AAIC,MAAA,gBAAA,CAAA,SAAA,CAAA,kBAAA,GAAR,YAAA;AAAA,YAAA,KAAA,GAAA,IAAA;;AACU,YAAA,KAAA,GAAA,KAAA,OAAA,CAAA,KAAA;AAER,aAAK,YAAL,CAAkB,KAAK,KAAvB;;AAEA,YAAI,OAAO,YAAP,KAAwB,UAA5B,EAAwC;AACtC,eAAK,WAAL,GAAmB,KAAK,CAAC,SAAN,CAAgB,YAAA;AACjC,YAAA,KAAI,CAAC,YAAL,CAAkB,KAAI,CAAC,KAAvB;AACD,WAFkB,CAAnB;AAGD;AACF,OAVO;;AAYA,MAAA,gBAAA,CAAA,SAAA,CAAA,yBAAA,GAAR,UAAkC,SAAlC,EAA2C;AACzC,YAAI,OAAO,UAAP,KAAsB,UAA1B,EAAsC;AACpC,eAAK,YAAL,CAAkB,SAAlB;AACD;AACF,OAJO;;AAMA,MAAA,gBAAA,CAAA,SAAA,CAAA,oBAAA,GAAR,YAAA;AACE,YAAI,KAAK,WAAT,EAAsB,KAAK,WAAL;AACvB,OAFO;;AAIA,MAAA,gBAAA,CAAA,SAAA,CAAA,YAAA,GAAR,UAAqB,KAArB,EAA0B;AAChB,YAAA,KAAA,GAAA,KAAA,OAAA,CAAA,KAAA;AAER,aAAK,QAAL,CAAc;AACZ,UAAA,MAAM,EAAE,OAAO,YAAP,KAAwB,UAAxB,GACJ,YAAY,CAAC,KAAK,CAAC,QAAN,EAAD,EAAmB,KAAnB,CADR,GAEJ;AAHQ,SAAd;AAKD,OARO;;AASV,aAAA,gBAAA;AAAC,KA7CD,CAA+B,KAAK,CAAC,aAArC,CAAA;;AACgB,IAAA,gBAAA,CAAA,WAAA,GAAc,iBAAc,aAAa,CAAC,WAAd,IAA6B,WAA3C,IAAsD,GAApE;AAEA,IAAA,gBAAA,CAAA,YAAA,GAAe;AAC3B,MAAA,KAAK,EAAE,iBAAA,CAAA,OAAA,CAAgB;AADI,KAAf;AA4ChB,WAAO,gBAAP;AACD,GAnDD;AAoDD;;AAvDD,OAAA,CAAA,OAAA,GAAA,UAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar themeStoreShape_1 = require(\"./themeStoreShape\");\nfunction withStyles(createStyles) {\n    return function createComponent(BaseComponent) {\n        var WrappedComponent = (function (_super) {\n            __extends(WrappedComponent, _super);\n            function WrappedComponent() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            WrappedComponent.prototype.render = function () {\n                return React.createElement(BaseComponent, __assign({}, this.props, { styles: this.state.styles }));\n            };\n            WrappedComponent.prototype.componentWillMount = function () {\n                var _this = this;\n                var theme = this.context.theme;\n                this.updateStyles(this.props);\n                if (typeof createStyles === 'function') {\n                    this.unsubscribe = theme.subscribe(function () {\n                        _this.updateStyles(_this.props);\n                    });\n                }\n            };\n            WrappedComponent.prototype.componentWillReceiveProps = function (nextProps) {\n                if (typeof withStyles === 'function') {\n                    this.updateStyles(nextProps);\n                }\n            };\n            WrappedComponent.prototype.componentWillUnmount = function () {\n                if (this.unsubscribe)\n                    this.unsubscribe();\n            };\n            WrappedComponent.prototype.updateStyles = function (props) {\n                var theme = this.context.theme;\n                this.setState({\n                    styles: typeof createStyles === 'function'\n                        ? createStyles(theme.getState(), props)\n                        : createStyles\n                });\n            };\n            return WrappedComponent;\n        }(React.PureComponent));\n        WrappedComponent.displayName = \"withStyles(\" + (BaseComponent.displayName || 'Component') + \")\";\n        WrappedComponent.contextTypes = {\n            theme: themeStoreShape_1.default.isRequired\n        };\n        return WrappedComponent;\n    };\n}\nexports.default = withStyles;\n//# sourceMappingURL=withStyles.js.map"]},"metadata":{},"sourceType":"script"}