{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar redux_1 = require(\"redux\");\n\nvar themeReducer_1 = require(\"./themeReducer\");\n\nvar themeEnhancer_1 = require(\"./themeEnhancer\");\n\nfunction withTheme(createTheme, reducer, enhancer) {\n  if (reducer === void 0) {\n    reducer = themeReducer_1.default;\n  }\n\n  if (enhancer === void 0) {\n    enhancer = themeEnhancer_1.default();\n  }\n\n  return function createComponent(BaseComponent) {\n    var WrappedComponent = function (_super) {\n      __extends(WrappedComponent, _super);\n\n      function WrappedComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n      }\n\n      WrappedComponent.prototype.render = function () {\n        return React.createElement(BaseComponent, __assign({}, this.props, {\n          theme: this.theme\n        }));\n      };\n\n      WrappedComponent.prototype.componentWillMount = function () {\n        var state = typeof createTheme === 'function' ? createTheme(this.props) : createTheme;\n        this.theme = redux_1.createStore(reducer, state, enhancer);\n      };\n\n      WrappedComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (typeof createTheme === 'function') {\n          this.theme.setThemeState(createTheme(nextProps));\n        }\n      };\n\n      WrappedComponent.prototype.componentWillUnmount = function () {\n        this.theme = null;\n      };\n\n      return WrappedComponent;\n    }(React.PureComponent);\n\n    WrappedComponent.displayName = \"withTheme(\" + (BaseComponent.displayName || 'Component') + \")\";\n    return WrappedComponent;\n  };\n}\n\nexports.default = withTheme;","map":{"version":3,"sources":["../src/withTheme.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,IAAA,cAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AACA,IAAA,eAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AAMA,SAAA,SAAA,CACE,WADF,EAEE,OAFF,EAGE,QAHF,EAG4B;AAD1B,MAAA,OAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,OAAA,GAAA,cAAA,CAAA,OAAA;AAAsB;;AACtB,MAAA,QAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,QAAA,GAAW,eAAA,CAAA,OAAA,EAAX;AAA0B;;AAE1B,SAAO,SAAA,eAAA,CACL,aADK,EACyF;AAE9F,QAAA,gBAAA,GAAA,UAAA,MAAA,EAAA;AAA+B,MAAA,SAAA,CAAA,gBAAA,EAAA,MAAA,CAAA;;AAA/B,eAAA,gBAAA,GAAA;;AA0BC;;AArBQ,MAAA,gBAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACE,eAAO,KAAA,CAAA,aAAA,CAAC,aAAD,EAAc,QAAA,CAAA,EAAA,EAAK,KAAK,KAAV,EAAe;AAAE,UAAA,KAAK,EAAE,KAAK;AAAd,SAAf,CAAd,CAAP;AACD,OAFM;;AAIC,MAAA,gBAAA,CAAA,SAAA,CAAA,kBAAA,GAAR,YAAA;AACE,YAAM,KAAK,GAAG,OAAO,WAAP,KAAuB,UAAvB,GACV,WAAW,CAAC,KAAK,KAAN,CADD,GAEV,WAFJ;AAIA,aAAK,KAAL,GAAa,OAAA,CAAA,WAAA,CAAY,OAAZ,EAAqB,KAArB,EAA4B,QAA5B,CAAb;AACD,OANO;;AAQA,MAAA,gBAAA,CAAA,SAAA,CAAA,yBAAA,GAAR,UAAkC,SAAlC,EAA2C;AACzC,YAAI,OAAO,WAAP,KAAuB,UAA3B,EAAuC;AACrC,eAAK,KAAL,CAAW,aAAX,CAAyB,WAAW,CAAC,SAAD,CAApC;AACD;AACF,OAJO;;AAMA,MAAA,gBAAA,CAAA,SAAA,CAAA,oBAAA,GAAR,YAAA;AACE,aAAK,KAAL,GAAa,IAAb;AACD,OAFO;;AAGV,aAAA,gBAAA;AAAC,KA1BD,CAA+B,KAAK,CAAC,aAArC,CAAA;;AACgB,IAAA,gBAAA,CAAA,WAAA,GAAc,gBAAa,aAAa,CAAC,WAAd,IAA6B,WAA1C,IAAqD,GAAnE;AA2BhB,WAAO,gBAAP;AACD,GAhCD;AAiCD;;AAtCD,OAAA,CAAA,OAAA,GAAA,SAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar redux_1 = require(\"redux\");\nvar themeReducer_1 = require(\"./themeReducer\");\nvar themeEnhancer_1 = require(\"./themeEnhancer\");\nfunction withTheme(createTheme, reducer, enhancer) {\n    if (reducer === void 0) { reducer = themeReducer_1.default; }\n    if (enhancer === void 0) { enhancer = themeEnhancer_1.default(); }\n    return function createComponent(BaseComponent) {\n        var WrappedComponent = (function (_super) {\n            __extends(WrappedComponent, _super);\n            function WrappedComponent() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            WrappedComponent.prototype.render = function () {\n                return React.createElement(BaseComponent, __assign({}, this.props, { theme: this.theme }));\n            };\n            WrappedComponent.prototype.componentWillMount = function () {\n                var state = typeof createTheme === 'function'\n                    ? createTheme(this.props)\n                    : createTheme;\n                this.theme = redux_1.createStore(reducer, state, enhancer);\n            };\n            WrappedComponent.prototype.componentWillReceiveProps = function (nextProps) {\n                if (typeof createTheme === 'function') {\n                    this.theme.setThemeState(createTheme(nextProps));\n                }\n            };\n            WrappedComponent.prototype.componentWillUnmount = function () {\n                this.theme = null;\n            };\n            return WrappedComponent;\n        }(React.PureComponent));\n        WrappedComponent.displayName = \"withTheme(\" + (BaseComponent.displayName || 'Component') + \")\";\n        return WrappedComponent;\n    };\n}\nexports.default = withTheme;\n//# sourceMappingURL=withTheme.js.map"]},"metadata":{},"sourceType":"script"}